<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<title>digital human | wingstone's blog</title>
<link rel=stylesheet href=/css/style.css>
<link rel=stylesheet href=/css/fonts.css>
<link rel=icon href=/icons/16.png>
</head>
<script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script>
<body>
<nav>
<ul class=menu>
<li><a href=/ class=menu-item>Home</a></li>
<li><a href=/categories/ class=menu-item>Categories</a></li>
<li><a href=/tags/ class=menu-item>Tags</a></li>
<li><a href=/archives/ class=menu-item>Archives</a></li>
<li><a href=/about/ class=menu-item>About</a></li>
<li><a href=/index.xml class=menu-item>Subscribe</a></li>
</ul>
<hr>
</nav>
<div class=article-meta>
<h2><span class=title>digital human</span></h2>
<h3 class=author>wingstone</h3>
<h3 class=date>2022/07/23</h3>
<div>
<span id=busuanzi_container_page_pv> 阅读量 <span id=busuanzi_value_page_pv></span> 次</span>
</div>
</div><h2>目录</h2>
<nav id=TableOfContents>
<ul>
<li><a href=#眼球>眼球</a>
<ul>
<li><a href=#眼球瞳孔折射>眼球瞳孔折射</a></li>
</ul>
</li>
<li><a href=#reference>reference</a></li>
</ul>
</nav>
<main>
<p>数字人相关技术记录</p>
<h2 id=眼球>眼球</h2>
<h3 id=眼球瞳孔折射>眼球瞳孔折射</h3>
<h4 id=使用视差贴图来计算折射后的贴图采样位置unreal>使用视差贴图来计算折射后的贴图采样位置（unreal）</h4>
<p>实现方法：首先在tangent空间对view进行折射计算，然后使用raymatching的方式来计算折射后view与高度图相交的位置，使用高度图相交点的uv作为折射后uv采样点；</p>
<p>优点为：使用范围广，对模型及贴图没有过多的要求；
缺点为：视差贴图需要进行大量的高度图采样，需要考虑其性能问题（不过眼球一般所占屏幕范围都比较小，还是可以考虑使用的）；</p>
<h4 id=基于模型空间瞳孔的高度来计算折射位置unity>基于模型空间瞳孔的高度来计算折射位置（unity）</h4>
<p>实现方法：首先在object空间，对view进行折射计算，随后在object空间根据瞳孔的高度，计算折射后view在瞳孔平面偏移的距离，使用偏移后的点在瞳孔平面的投影来作为uv采样点；</p>
<p>优点为：不需要进行多采样即可完成瞳孔的折射操作，使用眼球在瞳孔平面的投影作为采样的uv，便于进行程序化眼球生成；不需要高度图，使用模型来控制瞳孔的高度；
缺点为：对模型有一点要求，模型的原点必须为瞳孔中心且模型朝向需与shader一致（便于根据高度计算折射偏移量），模型不能进行蒙皮（蒙皮会改变模型本身的原点，从而无法得到正确的瞳孔高度，也无法在瞳孔平面进行正确的投影计算uv），如果有动画需求，可将眼球挂接在骨骼下面，控制骨骼的动画；</p>
<h2 id=reference>reference</h2>
<ol>
<li><a href=http://www.iryoku.com/>Jorge Jimenez</a></li>
<li><a href=https://github.com/Unity-Technologies/com.unity.demoteam.digital-human.sample>com.unity.demoteam.digital-human.sample</a></li>
<li><a href=https://docs.unrealengine.com/4.27/en-US/Resources/Showcases/DigitalHumans/>Digital Humans</a></li>
</ol>
</main>
<div id=gitalk-container></div>
<link rel=stylesheet href=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css>
<script src=https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js></script>
<script src=/js/md5.min.js></script>
<script>const gitalk=new Gitalk({clientID:'6ac25831f8084638e036',clientSecret:'ba798581fc341f62243d29d9be3d56d58cb38b74',repo:'wingstone.github.io',owner:'wingstone',admin:['wingstone'],id:md5(location.pathname),distractionFreeMode:!1});(function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById('gitalk-container').innerHTML='Gitalk comments not available by default when the website is previewed locally.';return}gitalk.render('gitalk-container')})()</script>
<footer>
<script defer src=//yihui.org/js/math-code.js></script>
<script defer src="//mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML"></script>
<script defer src=//yihui.org/js/center-img.js></script>
<hr>
© <a href=https://wingstone.github.io>wingstone</a> 2020 &ndash; 2022 | <a href=https://github.com/wingstone>Github</a> | <a href=https://www.zhihu.com/people/wu-zhu-32-40>Zhihu</a> | <a href=https://www.shadertoy.com/user/wingstone>Shadertoy</a>
<div class=small-print>
<small> 访问量 <span id=busuanzi_value_site_pv></span> 次</small>
|
<small> 访客数 <span id=busuanzi_value_site_uv></span> 人次 </small>
</div>
</footer>
</body>
</html>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 8" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>